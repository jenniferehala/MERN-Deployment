{"ast":null,"code":"import _defineProperty from\"/Users/jenniferehala/Desktop/CodingDojo/MERN/HW/belt/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jenniferehala/Desktop/CodingDojo/MERN/HW/belt/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/jenniferehala/Desktop/CodingDojo/MERN/HW/belt/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import{useParams,useHistory}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Edit=function Edit(props){var history=useHistory();var _useParams=useParams(),_id=_useParams._id;var _useState=useState({name:\"\",type:\"\",skill1:\"\",skill2:\"\",skill3:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];useEffect(function(){// console.log(_id)\naxios.get(\"http://localhost:8000/api/pets/\".concat(_id)).then(function(res){console.log(res.data.results);delete res.data.results._id;setForm(res.data.results);}).catch(function(err){console.log(err);});},[_id]);var onChangeHandler=function onChangeHandler(event){console.log(\"im here\");setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},event.target.name,event.target.value)));};var onUpdateHandler=function onUpdateHandler(event){event.preventDefault();axios.patch(\"http://localhost:8000/api/pets/\".concat(_id,\"/update\"),form).then(function(res){console.log(res);// history.push(\"/\")\n}).catch(function(err){console.log(err.response.data.err.errors);setErrors(err.response.data.err.errors);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mx-auto\",children:\"Edit Pet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"update below:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onUpdateHandler,className:\"mt-5 w-50 mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Pet Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"form-control\",placeholder:\"Name\",onChange:onChangeHandler,value:form.name}),/*#__PURE__*/_jsx(\"span\",{className:\"alert-danger\",children:errors.name&&errors.name.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Pet Type: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"type\",className:\"form-control\",placeholder:\"Type\",onChange:onChangeHandler,value:form.type}),/*#__PURE__*/_jsx(\"span\",{className:\"alert-danger\",children:errors.type&&errors.type.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Pet Description: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",className:\"form-control\",placeholder:\"Description\",onChange:onChangeHandler,value:form.description}),/*#__PURE__*/_jsx(\"span\",{className:\"alert-danger\",children:errors.description&&errors.description.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Skill 1: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill1\",className:\"form-control\",placeholder:\"skill1\",onChange:onChangeHandler,value:form.skill1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Skill 2: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill2\",className:\"form-control\",placeholder:\"skill2\",onChange:onChangeHandler,value:form.skill2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Skill 3: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"skill3\",className:\"form-control\",placeholder:\"skill3\",onChange:onChangeHandler,value:form.skill3})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Update\",className:\"btn btn-success mt-5\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Back to Home\"})}),\" |\"]});};export default Edit;","map":{"version":3,"sources":["/Users/jenniferehala/Desktop/CodingDojo/MERN/HW/belt/client/src/views/Edit.jsx"],"names":["React","useEffect","useState","axios","Link","useParams","useHistory","Edit","props","history","_id","name","type","skill1","skill2","skill3","description","form","setForm","errors","setErrors","get","then","res","console","log","data","results","catch","err","onChangeHandler","event","target","value","onUpdateHandler","preventDefault","patch","response","message"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios'\nimport {Link} from 'react-router-dom'\nimport { useParams, useHistory } from 'react-router';\n\nconst Edit = (props) => {\n\n    const history = useHistory()\n    const {_id} = useParams();\n    const [form,setForm] = useState({\n        name: \"\",\n        type: \"\",\n        skill1: \"\",\n        skill2: \"\",\n        skill3: \"\",\n        description: \"\"\n    })\n    const [errors,setErrors] = useState({})\n\n    useEffect(()=>{\n        // console.log(_id)\n        axios.get(`http://localhost:8000/api/pets/${_id}`)\n            .then(res=> {\n                console.log(res.data.results)\n                delete res.data.results._id;\n                setForm(res.data.results);\n                \n            })\n            .catch(err=> {\n                console.log(err);\n            })\n    }, [_id])\n    \n\n    const onChangeHandler = (event) => {\n        console.log(\"im here\")\n        setForm({\n            ...form, \n            [event.target.name]: event.target.value\n        })\n    }\n\n    const onUpdateHandler = (event) => {\n        event.preventDefault();\n        axios.patch(`http://localhost:8000/api/pets/${_id}/update`, form)\n        .then(res=>{\n            console.log(res);\n            // history.push(\"/\")\n            })\n            .catch(err=>{\n                console.log(err.response.data.err.errors);\n                setErrors(err.response.data.err.errors)\n            })\n    }\n    return (\n        <div>\n            <h1 className=\"mx-auto\">Edit Pet</h1>\n            <p>update below:</p>\n            <form onSubmit={onUpdateHandler} className=\"mt-5 w-50 mx-auto\">\n                <div className=\"form-group\">\n                    <label> Pet Name: </label>\n                    <input type=\"text\" name=\"name\" className=\"form-control\" placeholder=\"Name\" onChange={onChangeHandler} value={form.name}/>\n                    <span className=\"alert-danger\">{errors.name && errors.name.message}</span>\n                </div>\n                <div className=\"form-group\">\n                    <label> Pet Type: </label>\n                    <input type=\"text\" name=\"type\" className=\"form-control\" placeholder=\"Type\" onChange={onChangeHandler} value={form.type}/>\n                    <span className=\"alert-danger\">{errors.type && errors.type.message}</span>\n                </div>\n                <div className=\"form-group\">\n                    <label> Pet Description: </label>\n                    <input type=\"text\" name=\"description\" className=\"form-control\" placeholder=\"Description\" onChange={onChangeHandler} value={form.description}/>\n                    <span className=\"alert-danger\">{errors.description && errors.description.message}</span>\n                </div>\n                <div className=\"form-group\">\n                    <label> Skill 1: </label>\n                    <input type=\"text\" name=\"skill1\" className=\"form-control\" placeholder=\"skill1\" onChange={onChangeHandler} value={form.skill1}/>\n                </div>\n                <div className=\"form-group\">\n                    <label> Skill 2: </label>\n                    <input type=\"text\" name=\"skill2\" className=\"form-control\" placeholder=\"skill2\" onChange={onChangeHandler} value={form.skill2}/>\n                </div>\n                <div className=\"form-group\">\n                    <label> Skill 3: </label>\n                    <input type=\"text\" name=\"skill3\" className=\"form-control\" placeholder=\"skill3\" onChange={onChangeHandler} value={form.skill3}/>\n                </div>\n\n\n                <input type=\"submit\" value=\"Update\" className=\"btn btn-success mt-5\" />\n            </form>\n            <br/>\n                <Link to=\"/\"><button className=\"btn btn-primary\">Back to Home</button></Link> | \n\n                \n        </div>\n    )\n}\n\nexport default Edit;"]},"metadata":{},"sourceType":"module"}